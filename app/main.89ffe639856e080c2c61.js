(()=>{"use strict";var t="todos";function e(){var e=sessionStorage.getItem(t);return e?JSON.parse(e):[]}var o=function(o){var n=document.createElement("li");n.classList.add("todo-item");var d=document.createElement("span");d.innerText=o,d.classList.add("todo-text"),n.appendChild(d);var s=document.createElement("button");s.innerHTML='<i class="fas fa-check"></i>',s.classList.add("todo-check-button"),s.addEventListener("click",function(t){return function(e){e.preventDefault(),t.classList.toggle("todo-item_completed")}}(n)),n.appendChild(s);var a=document.createElement("button");return a.innerHTML='<i class="fas fa-trash"></i>',a.classList.add("todo-remove-button"),a.addEventListener("click",function(o){return function(n){n.preventDefault(),o.classList.add("todo-item_fall"),o.addEventListener("transitionend",(function(){!function(o){var n=e(),d=Array.from(o.childNodes).find((function(t){return t.classList.contains("todo-text")}));if(d){var s=n.filter((function(t){return t!==d.innerText}));sessionStorage.setItem(t,JSON.stringify(s))}}(o),o.remove()}))}}(n)),n.appendChild(a),n};function n(){return{todoInput:document.querySelector(".todo-input"),todoHelper:document.querySelector(".todo-helper"),todoButton:document.querySelector(".todo-button")}}function d(){var t=n(),e=t.todoInput,o=t.todoHelper,d=t.todoButton;d.classList.add("todo-button_disabled"),o.classList.add("todo-helper_visible"),e.addEventListener("keypress",(function(t){13===t.keyCode&&e.value.length<3&&t.preventDefault()})),e.addEventListener("input",(function(){e.value.length>=3?(d.classList.remove("todo-button_disabled"),o.classList.remove("todo-helper_visible")):(d.classList.add("todo-button_disabled"),o.classList.add("todo-helper_visible"))}))}var s=n(),a=s.todoInput,i=s.todoButton,r=document.querySelector(".todo-list"),l=document.querySelector(".todo-select");document.addEventListener("DOMContentLoaded",(function(){e().forEach((function(t){var e=o(t);r.appendChild(e)})),d()})),a.addEventListener("input",d),i.addEventListener("click",(function(d){var s,i;d.preventDefault(),s=a.value,(i=e()).push(s),sessionStorage.setItem(t,JSON.stringify(i));var l=o(a.value);r.appendChild(l),function(){var t=n(),e=t.todoInput,o=t.todoHelper,d=t.todoButton;e.value="",d.classList.add("todo-button_disabled"),o.classList.add("todo-helper_visible")}()})),l.addEventListener("change",(function(t){var e,o;e=r.childNodes,o=t.target.value,e.length&&e.forEach((function(t){switch(o){case"completed":t.classList.contains("todo-item_completed")?t.style.display="flex":t.style.display="none";break;case"uncompleted":t.classList.contains("todo-item_completed")?t.style.display="none":t.style.display="flex";break;default:return void(t.style.display="flex")}}))}))})();